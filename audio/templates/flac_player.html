{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>üéµ Media Playlist Player</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 50px; }
    button { font-size: 130px; margin: 5px; padding: 10px 15px; }
    input[type="range"] { width: 700px; }
    video, audio { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>üé∂ Media Playlist Player</h1>

  <!-- Players -->
  <audio id="audioPlayer" controls hidden></audio>
  <video id="videoPlayer" width="720" controls hidden></video>

  <!-- Controls -->
  <div>
    <button onclick="rewind()">‚èÆ</button>
    <button onclick="play()">‚ñ∂</button>
    <button onclick="pause()">‚è∏</button>
    <button onclick="forward()">‚è≠</button>
  </div>

  <!-- Playlist Script -->
  <script>
    // ‚úÖ Your playlist ‚Äî update as needed
    const playlist = [
      "/media/audio/song1.mp3",
      "/media/audio/video1.mp4",
      "/media/audio/song2.flac"
    ];

    const audio = document.getElementById("audioPlayer");
    const video = document.getElementById("videoPlayer");
    let index = 0;

    function getCurrentFile() {
      return playlist[index] || "";
    }

    function isVideoFile(file) {
      return file.toLowerCase().endsWith(".mp4");
    }

    function play() {
      const file = getCurrentFile();

      if (!file) return;

      if (isVideoFile(file)) {
        audio.pause();
        audio.hidden = true;
        video.src = file;
        video.hidden = false;
        video.play();
      } else {
        video.pause();
        video.hidden = true;
        audio.src = file;
        audio.hidden = false;
        audio.play();
      }
    }

    function pause() {
      if (!audio.hidden) audio.pause();
      if (!video.hidden) video.pause();
    }

    function forward() {
      index = (index + 1) % playlist.length;
      play();
    }

    function rewind() {
      index = (index - 1 + playlist.length) % playlist.length;
      play();
    }
  </script>
</body>
</html>
